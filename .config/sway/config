include /etc/sway/config.d/*

set $SCRIPT exec nu ~/.config/sway/script.nu
set $CHROME exec nu ~/.config/google-chrome/start.nu
set $WOB $XDG_RUNTIME_DIR/wob.sock

exec rm $WOB && mkfifo $WOB && tail -f $WOB | wob

output * bg ~/.local/share/backgrounds/wallpaper fill

for_window {
  [title="^Picture in picture$"] floating enable, sticky enable, move position 80ppt 80ppt
}

bar {
    binding_mode_indicator no
    font "JetBrainsMonoNL 13"
    gaps 1 6 0 0
    height 27
    mode overlay
    position top
    status_command while date +"%H:%M"; do sleep 60; done
    status_edge_padding 0
    status_padding 0
    workspace_buttons no
    tray_padding 0
    tray_output none
    colors {
        background #00000000
        statusline #fcfcfaff
    }
}

input type:keyboard {
    repeat_delay 200
    repeat_rate 60
    xkb_layout us,fi
    xkb_options grp:alt_space_toggle
}

input type:touchpad {
    dwt disabled
    dwtp disabled
    natural_scroll enabled
    tap enabled
}

default_border pixel 1
default_floating_border pixel 1
mouse_warping container
floating_modifier mod4
focus_follows_mouse yes
focus_wrapping no
tiling_drag_threshold 1
font JetBrainsMonoNL 13
titlebar_border_thickness 0
titlebar_padding 6 2

client.focused           #3c3c3c #3c3c3c #e3e3e3 #a8c7fa #a8c7fa
client.focused_tab_title #3c3c3c #3c3c3c #e3e3e3 #a8c7fa #a8c7fa
client.focused_inactive  #1f2020 #1f2020 #c7c7c7 #3c3c3c #3c3c3c
client.unfocused         #1f2020 #1f2020 #c7c7c7 #3c3c3c #3c3c3c
client.urgent            #1f2020 #1f2020 #c7c7c7 #3c3c3c #3c3c3c

bindsym {
    mod4+q kill
    mod4+d $SCRIPT speaker -
    mod4+r $SCRIPT speaker +
    mod4+w $SCRIPT bluetooth
    mod4+shift+q reload
    mod4+shift+d $SCRIPT brightness -
    mod4+shift+r $SCRIPT brightness +
    mod4+ctrl+q exit
    mod4+ctrl+d $SCRIPT microphone -
    mod4+ctrl+r $SCRIPT microphone +

    mod4+a exec xdg-terminal-exec
    mod4+s $CHROME
    mod4+h fullscreen
    mod4+t $SCRIPT screenshot copyarea
    mod4+shift+s $CHROME --incognito
    mod4+shift+h floating toggle
    mod4+shift+t $SCRIPT screenshot copyscreen

    mod4+z workspace 1
    mod4+x workspace 2
    mod4+m workspace 3
    mod4+c workspace 4
    mod4+shift+z move workspace 1
    mod4+shift+x move workspace 2
    mod4+shift+m move workspace 3
    mod4+shift+c move workspace 4

    mod4+right focus right
    mod4+left focus left
    mod4+down focus down
    mod4+up focus up
    mod4+shift+right move right 0
    mod4+shift+left move left 0
    mod4+shift+down move down 0
    mod4+shift+up move up 0
    mod4+control+right resize grow width 25ppt
    mod4+control+left resize shrink width 25ppt
    mod4+control+down resize shrink height 25ppt
    mod4+control+up resize grow height 25ppt

    mod4+tab focus next
    mod4+shift+tab focus prev
    mod4+space exec playerctl play-pause
}

bindsym {
    mod4+g layout tabbed
    mod4+y layout splith
    mod4+n layout splitv
    mod4+b splitv
    mod4+j splitv
}
